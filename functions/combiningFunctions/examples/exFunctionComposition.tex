\begin{example}
    If \(f(x) = \frac{1}{2}x^2 + 1\) and \(g(x)  = x^2 - x + 2\) find and simplify
    \begin{enumerate}
        \item \(\left(f\circ g\right)\left(x\right)\)
        \item \(\left(g \circ f\right)\left(x\right)\)
    \end{enumerate}
    \begin{solution}
        (a) \begin{gather*}\left(f\circ g\right)\left(x\right) = f(g(x))\\ = \frac{1}{2}(g(x))^2 + 1 \\ = \frac{1}{2}(x^2-x+2)^2 + 1 \\ = \frac{1}{2} (x^4 - 2x^3 + 5x^2 -4x + 4) +1 \\ = \frac{1}{2}x^4 - x^3 +\frac{5}{2}x^2 -2x + 3 \end{gather*}

        (b) \begin{gather*}\left(g\circ f\right)\left(x\right) = g(f(x))\\ = (f(x))^2 -f(x) + 2 \\ = (\frac{1}{2}x^2 + 1)^2 - (\frac{1}{2}x^2 + 1) + 2 \\ = \frac{1}{4}x^4 + x^2 +1 - \frac{1}{2}x^2 -1 +2 \\ = \frac{1}{4}x^4 +\frac{1}{2}x^2 + 2 \end{gather*}
    \end{solution}
\end{example}